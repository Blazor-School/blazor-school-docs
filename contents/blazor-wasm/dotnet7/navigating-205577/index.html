<h1>Navigating</h1>
<p>✅ Similar to Blazor Server</p>
<p>Website navigation allows visitors to navigate between different pages, allowing them to easily move from one page to another as they continue browsing. This tutorial will cover the different types of navigation available in Blazor, including navigating by link and by code. Additionally, we will also cover how to detect navigation in Blazor.</p>
<p>Specifically, we will cover the following topics:</p>
<ul>
    <li>Types of navigation.</li>
    <li>Navigating by link.</li>
    <li>Navigating by code.</li>
    <li>Detecting navigation.</li>
</ul>
<p>By the end of this tutorial, you will have a strong understanding of how to navigate between pages in a Blazor application and how to detect navigation events.</p>
<blockquote>You can <a href="https://github.com/Blazor-School/navigation-blazor-wasm-dotnet7" target="_blank" rel="noopener">download the example</a> code used in this topic on GitHub.</blockquote>
<hr class="my-4" />
<h1>Types of navigation</h1>
<p>In a Blazor application, both you as the developer and the users have the ability to control which page to navigate to. Navigation by link occurs when the user clicks on a link, which takes them to a new page. On the other hand, navigation by code allows you to programmatically navigate to a specific page based on certain logic or conditions. This type of navigation is useful when you want to provide a more dynamic user experience or when you want to navigate to a page based on the results of some processing or validation.</p>
<p>Overall, Blazor's navigation system provides you with the flexibility to handle both user-initiated and programmatic navigation, allowing you to create a seamless and intuitive user experience.</p>
<hr class="my-4" />
<h1>Navigating by link</h1>
<p>To create a link for the user to click, you have two options: the <code>NavLink</code> component and the <code>&lt;a&gt;</code> HTML tag.</p>
<h3><code>&lt;a&gt;</code> tag</h3>
<p>The <code>&lt;a&gt;</code> HTML tag is a simple and standard way to create a link. It is useful when you want to create a basic link or when you need to customize the link's logic beyond what the <code>NavLink</code> component can provide. For example, you can use the <code>&lt;a&gt;</code> tag to create a link to an external website or to add custom attributes to the link.</p>
<p>An example of using the <code>&lt;a&gt;</code> tag to create a link in Blazor:</p>
<pre class="code" language="razor">&lt;a href="https://www.blazorschool.com"&gt;Visit blazorschool.com&lt;/a&gt;
</pre>
<p>This creates a link that when clicked will navigate to "https://www.blazorschool.com" It's important to note that when using the <code>&lt;a&gt;</code> tag, you will have to handle the navigation logic yourself, unlike when you use the <code>NavLink</code> component, which provides built-in navigation handling.</p>
<h3><code>NavLink</code> component</h3>
<p>The <code>NavLink</code> component is a useful tool when building a navigation bar. It allows you to create links that can automatically highlight the menu of the current page or relative pages without the need for additional code. This can help to provide a more intuitive user experience and make it clear to the user which page they are currently on.</p>
<p>For example, when using a website such as Blazor School, you may notice that when you navigate to the tutorials page, the "Learn" menu option is highlighted. This is achieved through the use of the <code>NavLink</code> component. By using this component, the website can automatically update the navigation bar to reflect the user's current location.</p>
<p>Overall, the <code>NavLink</code> component is a useful tool for building navigation bars in Blazor because it allows you to create links that can automatically highlight the current page or relative pages, providing a more intuitive and user-friendly experience.</p>
<p><img src="contents\blazor-wasm\dotnet7\navigating-205577\blazorschool-menu.png" alt="blazorschool-menu.png" width="928" height="101" /></p>
<p>Creating a link with the <code>NavLink</code> component in Blazor requires specifying the <code>href</code>, which is the link's destination. The <code>NavLink</code> component also accepts an additional parameter <code>ActiveClass</code> which allows you to specify a CSS class that will be added when the link is active (i.e., the current page is the one to which the link points to), this way you can add styles to the active link.</p>
<p>An example of using the <code>NavLink</code> component to create a link:</p>
<pre class="code" language="razor">&lt;NavLink href="about" ActiveClass="active-link"&gt;About Us&lt;/NavLink&gt;</pre>
<p>This creates a link that when clicked will navigate to the <strong>About Us</strong> page and when the user is on that page, the link will have the class <code>active-link</code> and it will be rendered as an anchor tag <code>&lt;a href="about" class="active-link"&gt;About&lt;/a&gt;</code> in the HTML.</p>
<p>It's worth mentioning that the <code>NavLink</code> component is a part of the Blazor routing system, and it's not only an anchor tag that you can use to create a link, but also it provides an easy way to handle the active state of the link, and style it accordingly.</p>
<p>Overall, the <code>NavLink</code> component is a useful tool for creating links in Blazor, as it allows you to easily specify the destination of the link and also provides an easy way to handle the active state of the link, and style it accordingly.</p>
<h3>Highlighting the Current Menu with <code>NavLink</code></h3>
<p>When building a navigation menu in Blazor, it is important to make it clear to the user which page they are currently on. One way to achieve this is by highlighting the current menu item in the navigation bar. The <code>NavLink</code> component in Blazor allows you to easily highlight the current menu item by specifying the <code>Match</code> parameter.</p>
<p>Each menu item links to a specific URL. If the browser's URL matches the menu item's URL, the link will be given a CSS class to highlight it. To determine when the browser's URL matches the link's URL, you can use the <code>Match</code> parameter of the <code>NavLink</code> component. If the <code>Match</code> parameter is not specified, Blazor WebAssembly will assume it is <code>NavLinkMatch.Prefix</code>.</p>
<p>Here's an example of using the <code>Match</code> parameter:</p>
<pre class="code" language="razor">&lt;NavLink href="about" Match="NavLinkMatch.Exact" ActiveClass="active"&gt;About Us&lt;/NavLink&gt;</pre>
<h3>Understanding the <code>NavLinkMatch</code> enum</h3>
<p>The <code>NavLink</code> component in Blazor uses the <code>Match</code> parameter to determine when to highlight a menu item. The <code>Match</code> parameter accepts a value from the <code>NavLinkMatch</code> enum, which has two possible options: <code>Prefix</code> and <code>All</code>.</p>
<p>When the <code>Match</code> parameter is set to <code>NavLinkMatch.Prefix</code>, a menu item will be highlighted if the browser's URL starts with the href value of the <code>NavLink</code>. This is the default behavior if the <code>Match</code> parameter is not specified.</p>
<p><img src="contents\blazor-wasm\dotnet7\navigating-205577\navlinkmatch-prefix-explain.png" alt="navlinkmatch-prefix-explain.png" width="835" height="368" /></p>
<p>On the other hand, when the <code>Match</code> parameter is set to <code>NavLinkMatch.All</code>, a menu item will be highlighted only if the browser's URL is exactly the same as the <code>href</code> value of the <code>NavLink</code>. This allows for a more precise match between the browser's URL and the <code>NavLink</code>'s <code>href</code>.</p>
<p><img src="contents\blazor-wasm\dotnet7\navigating-205577\navlinkmatch-all-explain.png" alt="navlinkmatch-all-explain.png" width="835" height="383" /></p>
<p>Overall, the <code>NavLinkMatch</code> enum is a powerful tool for controlling the highlighting of menu items by providing the flexibility to decide whether to match the entire URL or just its prefix.</p>
<h3>Customizing highlighting classes with <code>NavLink</code></h3>
<p>By default, when the browser's URL matches a <code>NavLink</code>, the link will be highlighted with the CSS class <code>active</code>. For example, when a link matches the browser's URL, Blazor will render the following tag:</p>
<pre class="code" language="razor">&lt;a href="about" class="active"&gt;About&lt;/a&gt;</pre>
<p>If you want to change the highlighting CSS class, you can use the <code>ActiveClass</code> parameter of the <code>NavLink</code> component. The <code>ActiveClass</code> parameter accepts a string of classes separated by a space, For instance, assuming you have the following <code>NavLink</code> tag:</p>
<pre class="code" language="razor">&lt;NavLink href="about" ActiveClass="highlighted-link active"&gt;About&lt;/NavLink&gt;</pre>
<p>This will add both <code>highlighted-link</code> and <code>active</code> classes when the link is active as follows:</p>
<pre class="code" language="razor">&lt;a href="about" class="highlighted-link active"&gt;About&lt;/a&gt;</pre>
<p>Overall, the <code>ActiveClass</code> parameter of the <code>NavLink</code> component allows you to customize the CSS class used for highlighting the active link, giving you more flexibility and control over the design of your navigation menu. You can specify multiple CSS classes separated by space, to customize it.</p>
<hr class="my-4" />
<h1>Navigating by code</h1>
<p>When creating a Blazor application, there may be instances where you need to programmatically navigate to another page. To do this, you need to use the <code>NavigationManager</code> service. This service can be injected into your component, allowing you to use its methods to navigate to different pages.</p>
<p>Here's an example of how you can use the <code>NavigationManager</code> service to navigate to a different page:</p>
<pre class="code" language="razor">@inject NavigationManager navManager

&lt;button type="button" @onclick="NavigateToPage"&gt;Go to About&lt;/button&gt;

@code {
    private void NavigateToPage()
    {
        navManager.NavigateTo("about");
    }
}</pre>
<p>In this example, a button is added to the component, and when it's clicked, it calls the <code>NavigateToPage</code> method. Inside the method, the <code>NavigateTo</code> method of the <code>NavigationManager</code> service is called with the <code>about</code> parameter, which will navigate to the <code>about</code> page.</p>
<p>Navigating by code allows you to have more control over the flow of your application, and it can be useful in situations where you need to perform some logic before navigating to a specific page. It's important to note that, you need to make sure that the page you want to navigate to is already registered in your routing, otherwise it will not work.</p>
<h3>Forcing a page reload</h3>
<p>Blazor is a single-page application (SPA) framework, which means that the browser does not reload the page when users navigate through different pages. However, in some cases, you may want to force the browser to reload a specific page when the user navigates to it. This can be achieved by passing the <code>forceReload</code> parameter to the <code>NavigateTo</code> method of the <code>NavigationManager</code> service.</p>
<p>Here's an example of how you can use the <code>forceReload</code> parameter to reload a page:</p>
<pre class="code" language="csharp">navManager.NavigateTo("about", forceReload: true);</pre>
<p>In this example, the <code>NavigateTo</code> method is called with the <code>about</code> parameter and the <code>forceReload</code> parameter set to <code>true</code>. This will cause the browser to reload the <code>about</code> page, even if the user has already visited it.</p>
<p>It's worth noting that, forcing a page reload can lead to a poor user experience as it will reload the whole page even though most of the content is the same, it's better to use it only when it's really needed.</p>
<h3>Navigating without storing history</h3>
<p>When a user navigates through a Blazor application, the browser automatically stores the previous pages in the history stack. This allows users to use the browser's back and forward buttons to navigate between pages. This is an example of history stack:</p>
<p><img src="contents\blazor-wasm\dotnet7\navigating-205577\history-stack-example.png" alt="history-stack-example.png" width="209" height="173" /></p>
<p>However, in some cases, you may want to navigate to a new page without adding it to the history stack.</p>
<p>You can achieve this by passing the <code>replace</code> parameter to the <code>NavigateTo</code> method of the <code>NavigationManager</code> service. When set to <code>true</code>, this parameter tells the browser to replace the current page in the history stack with the new page, rather than adding it to the stack.</p>
<p>Here's an example of how you can use the <code>replace</code> parameter to navigate without adding to the history stack:</p>
<pre class="code" language="csharp">navManager.NavigateTo("about", replace: true);</pre>
<p>In this example, the <code>NavigateTo</code> method is called with the "about" parameter and the <code>replace</code> parameter set to <code>true</code>. This will cause the browser to navigate to the "about" page without adding it to the history stack.</p>
<p>It's worth noting that, this feature can be useful when you want to navigate to a page that does not need to be accessed through the back and forward buttons, it's your choice whether you want to use it or not.</p>
<hr class="my-4" />
<h1>Detecting navigation</h1>
<p>In Blazor, the <code>NavigationManager</code> class allows you to detect and handle changes in the browser's location. One way to do this is by listening to the <code>LocationChange</code> event.</p>
<p>Here is an example of how to listen to the <code>LocationChange</code> event and handle it in your code:</p>
<pre class="code" language="razor">@inject NavigationManager navManager
@implements IDisposable

&lt;!-- ... --&gt;

@code {
    protected override void OnInitialized()
    {
        navManager.LocationChanged += OnLocationChanged;
    }

    private void OnLocationChanged(object sender, string location)
    {
        Console.WriteLine($"Navigation to: {location}");
    }

    public void Dispose()
    {
        navManager.LocationChanged -= OnLocationChanged;
    }
}</pre>
<blockquote>When working with events in Blazor, it's important to remember to unsubscribe from them when you no longer need to receive notifications. Failing to do so can lead to memory leaks and other issues.</blockquote>