<h1>JavaScript interaction</h1>
<p>JavaScript interaction is about how Blazor interacts with JavaScript. In this tutorial, you will discover:</p>
<ul>
    <li>Why JavaScript interaction technique?</li>
    <li>What you can do with JavaScript interaction?</li>
    <li>Common mistakes.</li>
</ul>
<blockquote>You can <a href="https://github.com/Blazor-School/javascript-interaction-blazor-server-dotnet6" target="_blank" rel="noopener">download the example</a> code used in this topic on GitHub.</blockquote>
<hr class="my-4" />
<h1>Why JavaScript interaction technique?</h1>
<p>Blazor uses WebAssembly as its core. Despite WebAssembly has been improved a lot and there is an ongoing plan to upgrade WebAssembly, WebAssembly is not ready yet to take over the role of JavaScript. Furthermore, interacting with JavaScript allows you to use the JavaScript APIs and JavaScript libraries, so that you can take advantages of the existing JavaScript libraries.</p>
<hr class="my-4" />
<h1>What you can do with JavaScript interaction?</h1>
<p>JavaScript interaction technique allows you to:</p>
<ul>
    <li>Load JavaScript library.</li>
    <li>Use JavaScript APIs.</li>
    <li>Call C# methods from JavaScript.</li>
    <li>Transfer data between JavaScript and C#.</li>
    <li>Isolates JavaScript modules.</li>
</ul>
<hr class="my-4" />
<h1>Common mistakes</h1>
<p>The following list is the common mistakes when interacting with the JavaScript.</p>
<ol>
    <li>Try to call .NET library method directly from JavaScript.</li>
    <li>Make an infinitive loop.</li>
    <li>Try to remove a Blazor DOM.</li>
    <li>Use JS as script.</li>
</ol>
<h3>Try to call .NET library method directly from JavaScript</h3>
<p>JavaScript interaction allow you to call C# methods from JavaScript. However, you need to specify which C# methods can call from JavaScript before actually calling it. Therefore, you cannot call a method that is not specified to call in JavaScript. For example, you cannot call methods from <code>System.Math</code> (or any other libraries) unless you wrap it inside and method and specify that method to be able to call by JavaScript.</p>
<h3>Make an infinitive loop</h3>
<p>This common mistake usually made by the beginners. When making a call to a JavaScript function A and that JavaScript function A calls the C# method B again then the C# method B making a call to the JavaScript function A, thus create an infinitive loop. The following image illustrates this mistake.</p>
<p><img src="contents\blazor-server\dotnet6\javascript-interaction-279300\infinitive-loop-mistake.png" alt="infinitive-loop-mistake.png" width="1005" height="934" /></p>
<p>The following video illustrates what will happen when you make this mistake:</p>
<div class="ratio ratio-21x9">
    <video width="300" height="150" controls="controls">
        <source src="contents\blazor-server\dotnet6\javascript-interaction-279300\infinitive-loop-demonstration.mp4" />
    </video>
</div>
<h3>Try to remove a Blazor DOM</h3>
<p>JavaScript is to modify DOM. However, when both Blazor Server and JavaScript modify a same DOM, a confliction will occur. The result would be the website stopped working and need to be refreshed. The following video illustrates this situation:</p>
<div class="ratio ratio-21x9">
    <video width="300" height="150" controls="controls">
        <source src="contents\blazor-server\dotnet6\javascript-interaction-279300\try-to-remove-blazor-dom.mp4" />
    </video>
</div>
<h3>Use JavaScript as script</h3>
<p>Blazor Server cannot use JavaScript as script, Blazor Server can only call predefined functions. For example, you cannot create a new object with <code>new</code> keyword directly in Blazor, to do so, you need to declare a function to create a new object then call the function.</p>